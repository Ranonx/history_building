<!-- @format -->

<!DOCTYPE html>
<html lang="en">
  <head>
    {% include 'header.html' %}
  </head>
  <body>
    {% include 'navbar.html' %}
    <!-- Statistics Section -->
    <div class="container px-4 p-5" id="hanging-icons">
      <h2 class="pb-2 border-bottom">Statistics</h2>
      <div class="row g-4 py-5 row-cols-1 row-cols-lg-3">
        <div class="col d-flex align-items-start">
          <div
            class="icon-square text-body-emphasis bg-body-secondary d-inline-flex align-items-center justify-content-center fs-4 flex-shrink-0 me-3"
          >
          <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" class="bi bi-pin-map-fill" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M3.1 11.2a.5.5 0 0 1 .4-.2H6a.5.5 0 0 1 0 1H3.75L1.5 15h13l-2.25-3H10a.5.5 0 0 1 0-1h2.5a.5.5 0 0 1 .4.2l3 4a.5.5 0 0 1-.4.8H.5a.5.5 0 0 1-.4-.8z"/>
            <path fill-rule="evenodd" d="M4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999z"/>
          </svg>
          </div>
          <div>
            <h3 class="fs-2 text-body-emphasis">{{ stats.visit_ratio}}%</h3>
            <p>
              Among the {{stats.total_visits}} sites, you have been to {{stats.total_visits}} places.
            </p>
          </div>
        </div>
        <div class="col d-flex align-items-start">
          <div
            class="icon-square text-body-emphasis bg-body-secondary d-inline-flex align-items-center justify-content-center fs-4 flex-shrink-0 me-3"
          >
          <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
          </svg>
          </div>
          <div>
            <h3 class="fs-2 text-body-emphasis">{{ stats.highest_visit_district }}</h3>
            <p>
              Your favourite historical site district is {{stats.highest_visit_district}}. You have been to {{stats.highest_visit_count}} sites.
            </p>
          </div>
        </div>
        <div class="col d-flex align-items-start">
          <div
            class="icon-square text-body-emphasis bg-body-secondary d-inline-flex align-items-center justify-content-center fs-4 flex-shrink-0 me-3"
          >
          <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" class="bi bi-compass-fill" viewBox="0 0 16 16">
            <path d="M15.5 8.516a7.5 7.5 0 1 1-9.462-7.24A1 1 0 0 1 7 0h2a1 1 0 0 1 .962 1.276 7.5 7.5 0 0 1 5.538 7.24m-3.61-3.905L6.94 7.439 4.11 12.39l4.95-2.828 2.828-4.95z"/>
          </svg>
          </div>
          <div>
            <h3 class="fs-2 text-body-emphasis">{{ stats.visit_ratio }}%</h3>
            <p>
              Paragraph of text beneath the heading to explain the heading.
              We'll add onto it with another sentence and probably just keep
              going until we run out of words.
            </p>
          </div>
        </div>
      </div>
    </div>

    
    <!-- Recent Visits Section -->
    <div class="container px-4 py-5" id="hanging-icons">
      <h2 class="pb-2 border-bottom">Recent Visits</h2>
      <main class="">
        <div class="table-responsive small">
          <table class="table table-striped table-sm">
            <thead>
              <tr>
                <th scope="col">Date</th>
                <th scope="col">Place</th>
                <th scope="col">District</th>
                <th scope="col">Address</th>
              </tr>
            </thead>
            <tbody>
              {% for visit in visits %}
              <tr>
                <td>{{ visit.visit_date.strftime('%Y-%m-%d') }}</td>
                <td>{{ visit.name }}</td>
                <td>{{ visit.district }}</td>
                <td>{{ visit.address }}</td>
              </tr>
              {% else %}
              <tr>
                <td colspan="4">No recent visits found.</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </main>
  </body>
</html>
